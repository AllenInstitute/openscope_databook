
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Git/Github &#8212; OpenScope Databook</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Managing Environments on Multiple Platforms" href="environments.html" />
    <link rel="prev" title="Jupyter/Jupyter Book" href="jupyter_book.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-TJPN1M4PDX"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-TJPN1M4PDX');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">OpenScope Databook</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    OpenScope Databook
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Basics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../basics/background.html">
   Background
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../basics/download_nwb.html">
   Downloading an NWB File
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../basics/read_nwb.html">
   Reading an NWB File
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../basics/use_nwbwidgets.html">
   Exploring an NWB File
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../basics/stream_nwb.html">
   Streaming an NWB File with fsspec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../basics/get_dandiset_metadata.html">
   Getting Experimental Metadata from DANDI
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Visualizing NWB Files
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../visualization/visualize_2p_raw.html">
   Visualizing Raw 2-Photon Images
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../visualization/visualize_neuropixel_probes.html">
   Visualizing Neuropixel Probe Locations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../visualization/visualize_unit_metrics.html">
   Visualizing Unit Quality Metrics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../visualization/visualize_lfp_responses.html">
   Visualizing LFP Responses to Stimulus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../visualization/visualize_unit_responses.html">
   Visualizing Neuronal Unit Spikes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../visualization/visualize_2p_responses.html">
   Visualizing 2P Responses to Stimulus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../visualization/visualize_unit_spikes.html">
   Visualizing Unit Spikes
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  First-Order Analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../first-order/receptive_fields.html">
   Showing Receptive Fields
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../first-order/optotagging.html">
   Identifying Optotagged Units
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../first-order/current_source_density.html">
   Current Source Density Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../first-order/test_2p_responses.html">
   Statistically Testing 2P Responses to Stimulus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../first-order/test_spike_responses.html">
   Statistically Testing Spike Responses to Stimulus
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Replicating Figures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../replication/cred_assign_figures.html">
   Replicating OpenScope Credit Assignment project figures
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Embargoed Datasets
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../embargoed/modality_alignment.html">
   Aligning Data across Modalities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../embargoed/visualize_behavior.html">
   Visualizing Behavioral Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../embargoed/test_2p_responses_embargoed.html">
   Statistically Testing 2P Responses to Stimulus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../embargoed/cell_matching.html">
   Cell Matching Across Days
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Methods
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="jupyter_book.html">
   Jupyter/Jupyter Book
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Git/Github
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="environments.html">
   Managing Environments on Multiple Platforms
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Bibliography and FAQ
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../bibliography.html">
   Bibliography
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../FAQ.html">
   FAQ
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/AllenInstitute/openscope_databook"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/AllenInstitute/openscope_databook/issues/new?title=Issue%20on%20page%20%2Fmethods/github.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/methods/github.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Git/Github</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="git-github">
<h1>Git/Github<a class="headerlink" href="#git-github" title="Permalink to this headline">#</a></h1>
<p>The main code repository and development location of the Databook is on <a class="reference external" href="https://github.com/">Github</a>, and the project is version-controlled with <a class="reference external" href="https://git-scm.com/">Git</a>. The Databook is developed with version-control practices in mind. Branches are used for developing separate features and commits are pushed from local machines to the remote repo. A <code class="docutils literal notranslate"><span class="pre">dev</span></code> branch is used as the basis for all continuous integration and merging separate feature branches. During deployments, if the dev branch passes the build test, it may be merged into the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch, intended to host the latest working release of the Databook. Finally, from the main branch, the Databook is deployed to the public website and a release is made manually using the Github release feature.</p>
<p>We also utilize Github in concert with <a class="reference external" href="https://www.reviewnb.com/">ReviewNB</a> for a formal review process, by which other teammembers can review changes prior to merging them into dev or main. Because Github does not provide a useful platform to evaluate the changes made to Jupyter Notebooks, ReviewNB is integrated into our repository. Anytime a Pull Request is made, ReviewNB generates a link displaying all the changes to notebooks contained within the Pull Request, and a teammember can view these changes and provide comments pertaining to specific changes or whole sections. This way, teammembers can evaluate the scientific validity of a notebook, critique the methodology of the analysis or the usability of the plots, as well as provide feedback on ways to improve the educational value of the content. Changes can continually be made leveraging feedback through ReviewNB until the notebook is prepared to be merged.</p>
<p>Since the Databook is intended to be a community-oriented project, Github issues from the public are encouraged. Users may submit issues reporting bugs, suggesting enhancements, or asking questions regarding any part of the Databook. Furthermore, the Databook may accept changes from community members. For instance, the Databook repository has been forked and a new chapter called replication was made. After providing a review of the Pull Request and changes were made, this enhancement was merged and integrated into the Databook. Users who contribute at least one commit to the databook through are automatically added to the dynamic authors list, discussed below.</p>
<p>Testing, deployment, and generating the dynamic authors list are managed by Github Workflows. Two workflows are used for testing, <a class="reference external" href="https://github.com/AllenInstitute/openscope_databook/blob/main/.github/workflows/test.yml">test.yml</a> and <a class="reference external" href="https://github.com/AllenInstitute/openscope_databook/blob/main/.github/workflows/build.yml">build.yml</a>. test.yml is run before any changes are pushed or merged to <code class="docutils literal notranslate"><span class="pre">dev</span></code>. It sets up the environment within the provided Ubuntu Github runner using our repo’s <a class="reference external" href="https://github.com/AllenInstitute/openscope_databook/blob/main/requirements.txt">requirements.txt</a> file, and uses the Github workflow <a class="reference external" href="https://github.com/Ana06/get-changed-files">Ana06/get-changed-files</a> to retrieve a list of the Jupyter notebooks which were changed and then runs Pytest with nbmake to run every changed notebook. If all the changed notebooks run without error, the test passes. Otherwise, the test fails. build.yml is used before any changes are pushed or merged to <code class="docutils literal notranslate"><span class="pre">main</span></code>. Similarly to test.yml it sets up the environment and uses pytest and nbmake. However, build.yml runs all notebooks in the repository, and also builds the Jupyter Book to validate the configuration and table of contents.</p>
<p>Because there are some notebooks which require a secure API key to access embargoed data on DANDI, we use Github secrets to store such a key. Both test.yml and build.yml assign the the Github secret ket to an environment variable, called DANDI_API_KEY, before running the notebooks. Within the relevant notebooks, Python’s OS module is used to access DANDI_API_KEY from the runtime environment, and the embargoed files are accessible.</p>
<p>Deployment is performed by the <a class="reference external" href="https://github.com/AllenInstitute/openscope_databook/blob/main/.github/workflows/deploy.yml">deploy.yml</a> workflow, which is dispatched manually. This workflow first runs another workflow, <a class="reference external" href="https://github.com/AllenInstitute/openscope_databook/blob/main/.github/workflows/insert_authors.yml">insert_authors.yml</a>. insert_authors.yml runs a Python file which, in Github’s Ubuntu runner, checks out the latest version of the Databook repository’s main branch, parses a list of contributors from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">shortlog</span></code>, inserts them into a markdown header in the <a class="reference external" href="https://github.com/AllenInstitute/openscope_databook/blob/main/docs/intro.md">Intro.md</a> file, and makes a commit. After insert_authors.yml is finished, the Jupyter Book is built, and then the deployment uses <a class="reference external" href="https://github.com/peaceiris/actions-gh-pages">peaceiris/actions-gh-pages</a> to deploy the notebook to Github pages. Github pages serves to reliably host the Jupyter book website for free.</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "AllenInstitute/openscope_databook",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./methods"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="jupyter_book.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Jupyter/Jupyter Book</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="environments.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Managing Environments on Multiple Platforms</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Carter Peene<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>